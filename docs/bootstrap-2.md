```bash
# === НА ЦЕЛЕВОЙ МАШИНЕ ===

# --- ЭТАП 1: Подготовка окружения ---
# (Выполняется один раз в начале. Скопируйте и вставьте ВЕСЬ этот блок целиком, от начала до конца)

# Рекомендуется выполнять команды с пробелом в начале, чтобы избежать сохранения в истории Bash.
# Или временно отключите историю: set +o history

# --- НАЧАЛО БЛОКА ДЛЯ КОПИРОВАНИЯ ---
clear
export TMP_B64_ASSEMBLY_FILE=$(mktemp --tmpdir=/dev/shm guido_payload.XXXXXX.b64 2>/dev/null) || export TMP_B64_ASSEMBLY_FILE=$(mktemp /tmp/guido_payload.XXXXXX.b64)

# Определяем вспомогательную функцию для удобного добавления частей
add_part() {
    local part_num="$1"
    
    echo ""
    echo "--- Добавление ЧАСТИ $part_num ---"
    echo "1. На машине СБОРКИ скопируйте содержимое файла части $part_num."
    echo "2. Вставьте скопированный текст ниже и нажмите Enter."
    echo "3. На новой строке введите маркер 'END_OF_PART' и снова нажмите Enter."
    
    # Команда cat ожидает ваш ввод до тех пор, пока не встретит маркер END_OF_PART
    cat >> "$TMP_B64_ASSEMBLY_FILE"
    
    echo "OK. Часть $part_num добавлена. Готово к следующей части."
}

echo "======================================================================"
echo "Окружение подготовлено. Временный файл: $TMP_B64_ASSEMBLY_FILE"
echo "Теперь для каждой части используйте простую команду 'add_part [НОМЕР]'"
echo "======================================================================"
echo ""
# --- КОНЕЦ БЛОКА ДЛЯ КОПИРОВАНИЯ ---


# --- ЭТАП 2: Передача частей ---
# Для каждой части выполняйте ДВЕ операции:
# 1. На машине СБОРКИ: cat "build_output/oneliner_part_XXX.xz.b64part" (и скопируйте вывод)
# 2. На ЦЕЛЕВОЙ машине: выполните команду 'add_part N', вставьте скопированное и завершите маркером 'END_OF_PART'.

# <<< Передача ЧАСТИ 1 >>>
add_part 1
# (СЮДА ВСТАВИТЬ СОДЕРЖИМОЕ oneliner_part_000.xz.b64part)
END_OF_PART

# <<< Передача ЧАСТИ 2 >>>
add_part 2
# (СЮДА ВСТАВИТЬ СОДЕРЖИМОЕ oneliner_part_001.xz.b64part)
END_OF_PART

# (Повторите для ЧАСТИ 3, 4 и т.д., если они есть, используя add_part 3, add_part 4, ...)


# --- ЭТАП 3: Запуск и очистка ---
# (Выполняется один раз после передачи ВСЕХ частей)

echo ""
echo "======================================================================"
echo "Все части переданы. Запускаю скрипт..."
echo "======================================================================"
echo ""

# Улучшенная команда запуска с проверкой ошибок
(base64 -d "$TMP_B64_ASSEMBLY_FILE" | unxz -c | bash -s -- -p -c de24) && \
  (echo -e '\n\033[1;32m[SUCCESS]\033[0m Скрипт Guido завершен УСПЕШНО. Удаляю временный файл.' ; rm -f "$TMP_B64_ASSEMBLY_FILE"; unset TMP_B64_ASSEMBLY_FILE) || \
  (echo -e '\n\033[1;31m[ERROR]\033[0m !!! ОШИБКА !!! Скрипт Guido завершился с ошибкой (возможно, части были скопированы неверно). \nВременный файл НЕ удален для анализа: \033[1;33m$TMP_B64_ASSEMBLY_FILE\033[0m')

# (Опционально) Если отключали историю:
# set -o history
# echo "История команд Bash снова включена (если отключалась)."
```